<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Java 语言笔记 - 字符串与输入输出流 &middot; Pat~ Pat~ Meow~</title>
  <meta name="description" content="Java 语言字符串处理和对终端 STDIN STDOUT 流的处理" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://www.kmahyyg.xyz/css/main.min.css" />
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-123948588-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

  <style>
    body {
      background: #ecedef url("https://alicdn.kmahyyg.xyz/asset_files/aether/bgimg.webp") repeat;
    }
  </style>
</head>
  <body class="single-body">
    <nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="https://www.kmahyyg.xyz/" class="nav-text">Patrick Young</a></h1>
  <div class="hamburger-menu">
    <button onclick="hamburgerMenuPressed.call(this)" aria-haspopup="true" aria-expanded="false" aria-controls="menu" aria-label="Menu">
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="https://www.kmahyyg.xyz/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://www.kmahyyg.xyz/express-page/" class="hamburger-menu-overlay-link">Express Inc</a></li>
      <li><a href="https://www.kmahyyg.xyz/about-me-page/" class="hamburger-menu-overlay-link">About</a></li>
      <li><a href="https://www.kmahyyg.xyz/archlinux-bug-page/" class="hamburger-menu-overlay-link">Arch Linux</a></li>
      <li><a href="https://www.kmahyyg.xyz/donate-page/" class="hamburger-menu-overlay-link">Donate</a></li>
      <li><a href="https://www.kmahyyg.xyz/categories/code" class="hamburger-menu-overlay-link">Code</a></li><li><a href="https://www.kmahyyg.xyz/categories/life" class="hamburger-menu-overlay-link">Life</a></li><li><a href="https://www.kmahyyg.xyz/categories/network" class="hamburger-menu-overlay-link">Network</a></li><li><a href="https://www.kmahyyg.xyz/categories/school" class="hamburger-menu-overlay-link">School</a></li><li><a href="https://www.kmahyyg.xyz/categories/tech" class="hamburger-menu-overlay-link">Tech</a></li>
    </ul>
  </div>
</nav>
    <main class="content side-text-padding">
      <article class="post ">
        <header class="post-header">
        	<h1 class="post-title">Java 语言笔记 - 字符串与输入输出流</h1>
          <p class="post-date">Posted <time datetime="2019-03-30">Mar 30, 2019</time></p>
        </header>
        
        <picture class="post-figure">
            
            <source srcset="https://alicdn.kmahyyg.xyz/asset_files/aether/cat_code.webp">
          <img src="https://alicdn.kmahyyg.xyz/asset_files/aether/cat_code.webp" >
        </picture>
        
        

<h1 id="java-语言笔记-字符串与输入输出流">Java 语言笔记 - 字符串与输入输出流</h1>

<p>Last Edited: Mar 30, 2019 2:39 PM</p>

<p>一、字符串</p>

<p>(1) 定义</p>

<p>字符串的识别和 C 中完全相同，“” 表示一个字符串，‘’表示一个字符，并且字符串的保存采用的是 Unicode 序列的形式。</p>

<p>(2) 字符串 String 类的各个方法</p>

<pre><code class="language-java">    String e = &quot; &quot;;
    String greeting = &quot;Hello world!&quot;;
    String s = greeting.substring(0,3); // return Hel
    String message = e + greeting; // Connect two strings
    // Java 的字符串一旦定义就不可变，如果你需要修改，应当截取子串后拼接
    &quot;Hello&quot;.equals(greeting)   // 不可以用 ==
    &quot;Hello&quot;.equalsIgnoreCase(&quot;Hello w&quot;) 
    // 检测字符串是否相同，只有字符串常量可以共享，操作后的结果不是共享的
</code></pre>

<p>具体的 API 官方文档，请参见：</p>

<p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html">String (Java Platform SE 8 )</a></p>

<p>(3) 代码点和代码单元</p>

<p>每一个字串中的字符都是一个代码单元，常用的 Unicode 字符只占用 <strong>1 个 char</strong>，部分字符需要占用 <strong>2 个 char</strong>：</p>

<pre><code class="language-java">    String greeting = &quot;Hello&quot;;
    int n = greeting.length(); // return 5
    int cpcount = greeting.codePointCount(0, greeting.length());
</code></pre>

<p>返回特定位置的代码单元和代码点：</p>

<pre><code class="language-java">    char first = greeting.charAt(0); // return 'H'
    int index = greeting.offsetByCodePoints(0,4); // 获取第4个代码点(Start from 0)
    int cp = greeting.codePointAt(index);
</code></pre>

<p><img src="https://alicdn.kmahyyg.xyz/asset_files/2019-java-stdnstr1.webp" alt="" /></p>

<p>有的朋友可能会问了：这个玩意貌似没啥卵用啊？请看下面这个例子。</p>

<pre><code class="language-java">    // Character.isSupplementaryCodePoint();   Return Boolean
    
    import java.nio.charset.StandardCharsets;
    
    public class Main {
        public static void main(String[] args) {
            byte[] bytes = new byte[]{(byte) 0xF0,
                                      (byte) 0x90,
                                      (byte) 0x8A,
                                      (byte) 0xB7};
    
            String string = new String(bytes, StandardCharsets.UTF_8);
            System.out.println(string);
        }
    }

    public class Main {
        public static void main(String[] args) {
                    String greeting = &quot;\uD800\uDEB7 is a mountain.&quot;;
               // https://www.fileformat.info/info/unicode/char/102b7/index.htm
                    System.out.println(greeting);
                    int cp = greeting.codePointAt(0);
                    System.out.println(Character.isSupplementaryCodePoint(cp));
    								// 辅助字符的第一部分则返回 True
        }
    }
</code></pre>

<p><img src="https://alicdn.kmahyyg.xyz/asset_files/2019-java-stdnstr2.webp" alt="" /></p>

<p><img src="https://alicdn.kmahyyg.xyz/asset_files/2019-java-stdnstr3.webp" alt="" /></p>

<p>(4) StringBuilder</p>

<p>使用字符串拼接的方式构建的字符串，浪费空间、效率极低，所以 Java 提供了 StringBuilder 类来尽可能的提高效率。</p>

<p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html">StringBuilder (Java Platform SE 8 )</a></p>

<pre><code class="language-java">    StringBuilder builder = new StringBuilder();
    builder.append('c');
    builder.append(&quot;Hello&quot;);
    builder.insert(2, 'c');
    builder.insert(2, &quot;Hi&quot;);
    String hel = builder.toString();
</code></pre>

<p>二、输入输出流</p>

<p>(1) STDIN</p>

<p>Java 使用的类不再属于基本包 java.lang 时，需要手动导入</p>

<pre><code class="language-java">    import java.util.*;
    
    public class Inpout{
    	public static void main(String[] args){
    		Scanner in = new Scanner(System.in); // Bind stdin to scanner
    		System.out.print(&quot;What is your name?&quot;)
    		String name = in.nextLine();   // Get user input as a line, stop with LF
    		String middle_name = in.next();   // Get user input as a word, stop with space
    		System.out.print(&quot;How old are you?&quot;);
    		int age = in.nextInt();   // Get user input as an integer
    	}
    }
</code></pre>

<p><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html">Scanner (Java Platform SE 8 )</a></p>

<p>如果用户需要使用控制台或者输入密码等操作，请参考下列官方文档：</p>

<p>常用的方法有： java.lang.System.console();  java.io.Console.readPassword(String prompt, Object &hellip; args); java.io.Console.readLine(String prompt, Object &hellip; args);</p>

<p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/System.html">System (Java Platform SE 8 )</a></p>

<p>(2) STDOUT</p>

<ul>
<li>1 格式化输出</li>
</ul>

<p>Java 的格式化输出基本上沿用了 C 的格式化模式，常见的转换符有如下几个：</p>

<p>%d int, %x Hex, %o Octet, %f FixedFloat, %e 10^x, %g Float, %a HexFloat, %s String</p>

<p>%c char, %b Boolean, %h hash, %t* Time, %% %, %n Related to platform.</p>

<p>下列字符可用于格式化输出中的对齐或使用标准格式</p>

<p>%+ 正负号，%<Space> 添加空格 ， %0 数字前补0，%- 左对齐，</p>

<p>%( 将负数括在括号内，%<Comma> 添加分组分隔符， %#f 包含小数点，</p>

<p>%#x 添加前缀0x，%1$d 以十进制整数打印第一个参数，%d%&lt;x 表示以十进制和十六进制打印同一个数值。</p>

<p>下列字符可用于格式化时间输出：</p>

<p><a href="https://dzone.com/articles/java-string-format-examples">Java String Format Examples - DZone Java</a></p>

<ul>
<li>2 文件输入输出</li>
</ul>

<pre><code class="language-java">    public static void main(String[] args) throw FileNotFoundException{
    	Scanner in = new Scanner(new File(&quot;C:\\hello.txt&quot;));
    	// You need to use \\ to represent \, / doesn't need escape
    	PrintWriter out = new PrintWriter(new File(&quot;/tmp/hello.txt&quot;));
    	String cwd = System.getProperty(&quot;user.dir&quot;);
    }
</code></pre>

      </article>
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "kmahyyg" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </main>
    <nav class="end-nav side-padding">
      
      <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
  href="https://www.kmahyyg.xyz/" class="card home-card" style="background-image: url( https://alicdn.kmahyyg.xyz/asset_files/aether/backtohome.webp )" rel="bookmark" >
  Home
</a>
    </nav>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
<script src="https://www.kmahyyg.xyz/js/core.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
  </body>
</html>