<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>数据结构与算法课程 - Chap 7 图 &middot; Pat~ Pat~ Meow~</title>
  <meta name="description" content="数据结构与算法课程期末复习记录 Chapter 7" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://www.kmahyyg.xyz/css/main.min.css" />
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-123948588-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

  <style>
    body {
      background: #ecedef url("https://alicdn.kmahyyg.xyz/asset_files/aether/bgimg.webp") repeat;
    }
  </style>
</head>
  <body class="single-body">
    <nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="https://www.kmahyyg.xyz/" class="nav-text">Patrick Young</a></h1>
  <div class="hamburger-menu">
    <button onclick="hamburgerMenuPressed.call(this)" aria-haspopup="true" aria-expanded="false" aria-controls="menu" aria-label="Menu">
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="https://www.kmahyyg.xyz/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://www.kmahyyg.xyz/express-page/" class="hamburger-menu-overlay-link">Express Inc</a></li>
      <li><a href="https://www.kmahyyg.xyz/about-me-page/" class="hamburger-menu-overlay-link">About</a></li>
      <li><a href="https://www.kmahyyg.xyz/archlinux-bug-page/" class="hamburger-menu-overlay-link">Arch Linux</a></li>
      <li><a href="https://www.kmahyyg.xyz/donate-page/" class="hamburger-menu-overlay-link">Donate</a></li>
      <li><a href="https://www.kmahyyg.xyz/categories/code" class="hamburger-menu-overlay-link">Code</a></li><li><a href="https://www.kmahyyg.xyz/categories/life" class="hamburger-menu-overlay-link">Life</a></li><li><a href="https://www.kmahyyg.xyz/categories/network" class="hamburger-menu-overlay-link">Network</a></li><li><a href="https://www.kmahyyg.xyz/categories/school" class="hamburger-menu-overlay-link">School</a></li><li><a href="https://www.kmahyyg.xyz/categories/tech" class="hamburger-menu-overlay-link">Tech</a></li>
    </ul>
  </div>
</nav>
    <main class="content side-text-padding">
      <article class="post ">
        <header class="post-header">
        	<h1 class="post-title">数据结构与算法课程 - Chap 7 图</h1>
          <p class="post-date">Posted <time datetime="2019-01-05">Jan 5, 2019</time></p>
        </header>
        
        <picture class="post-figure">
            
            <source srcset="https://alicdn.kmahyyg.xyz/asset_files/aether/cat_school.webp">
          <img src="https://alicdn.kmahyyg.xyz/asset_files/aether/cat_school.webp" >
        </picture>
        
        

<h1 id="数据结构复习-chapter-7-图">数据结构复习 - Chapter 7 图</h1>

<h2 id="图的相关概念">图的相关概念</h2>

<p>图是由顶点集合和顶点间的关系集合构成的一种数据结构。</p>

<p>图的 ADT:</p>

<pre><code>ADT Graph {
  数据对象V：
    V是具有相同特性的数据元素的集合，称为顶点集。
  数据关系R：
    R={ VR }
    VR={&lt;v,w&gt;|v,w∈V且P(v,w)，&lt;v,w&gt;表示从v到w的弧，谓词P(v,w)定义了弧&lt;v,w&gt;的意义或信息}
  基本操作P：
	CreateGraph(&amp;G,V,VR); // 按V和V R的定义构造图G
	DestroyGraph(&amp;G);     // 销毁图G
	LocateVex(G, u);  // 若G中存在顶点u，则返回该顶点在图中位置；
	GetVex(G, v);         // 返回 v 的值
	PutVex(&amp;G, v, value);   // 对 v 赋值value
	FirstAdjVex(G, v);  // 返回v的第一个邻接点。否则，则返回“空”
}ADT Graph
</code></pre>

<p>图的术语：</p>

<ul>
<li>有向图 &amp; 无向图</li>
<li>完全图：图中任意两个顶点间都有一条边相连接，无向完全图的边数是 n(n-1)/2，有向完全图的边数是 n(n-1)</li>
<li>稠密图/稀疏图：边数的判定界限为 nlogn</li>
<li>网络：带权图，路径上带有权值，其中非带权图的路径长度是指此路径上边的条数，带权图的路径长度是指路径上的各边的权之和。</li>
<li>(非)简单路径：路径上的顶点不重复出现。</li>
</ul>

<p>关于连通图：</p>

<ul>
<li>连通图：（不一定直接连通）任意两顶点之间有路径可达，图中所有顶点均连通。</li>
<li>强连通图： 任意一对顶点存在正向路径也存在反向路径。</li>
<li>非（强）连通图的极大连通子图称为（强）连通分量。</li>
</ul>

<p>关于邻接：</p>

<ul>
<li>无向图：邻接、关联、依附于边：都是说边的两个顶点</li>
<li>有向图：从起点邻接到终点，终点邻接自起点，弧与顶点相关联</li>
</ul>

<p>关于度：</p>

<ul>
<li>度：无向图：和对应顶点关联的边的数目</li>
<li>出度：以 v 为终点的有向边数</li>
<li>入度：以 v 为起点的有向边数</li>
</ul>

<p>生成：</p>

<ul>
<li>生成树：极小连通子图，包含图的全部顶点，只能生成树的 n-1 条边，图中每个顶点间均存在路径。</li>
<li>生成森林： 有向图的一个顶点的入度为 0, 其他的顶点入度为 1, 则为有向树。生成森林包含若干个有向树</li>
</ul>

<h2 id="图的存储结构">图的存储结构</h2>

<h3 id="邻接矩阵">邻接矩阵</h3>

<ol>
<li>无向图： <code>edge[i][j]</code> 表示 i 到 j 之间有弧或边。（具有对称性，完全图的邻接矩阵中，对角线为 0，其他均为 1。）</li>
<li>有向图： 第 i 行，表示出度边（尾）；第 j 列，表示入度边（头）。</li>
</ol>

<h3 id="邻接链表">邻接链表</h3>

<ol>
<li>无向：<code>vertex | pointer</code> -&gt; <code>pointer</code> == <code>neighbor vertex | pointer</code></li>
<li>有向：<code>vertex | pointer</code> -&gt; <code>pointer</code> == <code>dest vertex | pointer</code>  (出边)
<code>vertex | pointer</code> -&gt; <code>pointer</code> == <code>src vertex | pointer</code>  (入边)</li>
</ol>

<h2 id="图的遍历-aka-搜素">图的遍历(aka. 搜素)</h2>

<p>遍历的定义：从某一顶点出发，遍历其余顶点，且每个顶点仅被访问一次。实质是寻找邻接点。
其实与二叉树三序遍历等价。</p>

<p>DFS：计算机实现需借用辅助的 <code>visited[]</code> ，整体思路是先沿指针访问，访问后置 visited = 1, 然后直到到达的所有邻接节点都被访问过，回退，直到所有图中节点均被实现。</p>

<p>BFS： <em>NON-RECURSIVE</em>  辅助存储： <code>visited[] &amp; Queue(Visited)</code> 。实现思路：从起点顺序访问，访问路径长度为 1 的节点，然后置节点为 visited = 1，并将该节点入队，当队列非空时，将队头元素出队，并置出队节点为当前节点，访问与出队节点距离为 1 的点并逐个入队，之后依次出队，将出队后的节点作为起始节点，重复上述过程。</p>

<h2 id="图的连通性">图的连通性</h2>

<h3 id="kruskal-算法">Kruskal 算法</h3>

<ol>
<li>添加所有顶点</li>
<li>选择最小权重边，不产生回路，直至完全连通。</li>
</ol>

<h3 id="prim-算法">Prim 算法</h3>

<ol>
<li>选择起始顶点，建立 <code>founded[]</code></li>
<li>将初始的辅助数组中各项元素初始化为 0 ，辅助数组结构为：</li>
</ol>

<table>
<thead>
<tr>
<th align="center">Index</th>
<th align="center">AdjVertex</th>
<th align="center">LowCost</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">网中的节点v</td>
<td align="center">相邻点u</td>
<td align="center">u与v之间的边的权重</td>
</tr>
</tbody>
</table>

<p>其中第一次的网中节点为除了起点之外的其他节点。起始节点的 founded == 1。</p>

<ol>
<li>在对应的邻接矩阵的各点中找到最小权重的边。接下来以找到的最近的邻接点为起点，重复上述过程，直到所有节点的 founded == 1。</li>
</ol>

<p>时间复杂度：O(n^2)</p>

<h2 id="有向无环图">有向无环图</h2>

<h3 id="activity-on-vertices-aov">Activity on Vertices (AOV)</h3>

<p>顶点表示活动，弧的起点和终点表示终点的活动必须先于起点进行。</p>

<h4 id="拓扑排序">拓扑排序</h4>

<p>目的：用于判断是否存在有向环</p>

<p>本质：重复选择没有直接前驱的结点</p>

<p>方法：</p>

<ul>
<li>输入 AOV 网。</li>
<li>在 AOV 中选择没有直接前驱的点并输出，删除该顶点和发出的所有有向边。</li>
<li>重复，直至全部节点均被输出或跳出循环</li>
</ul>

<p>若剩余有节点未被输出，则必然存在有向环。该排序方法为不稳定排序，结果不唯一。</p>

<h3 id="activity-on-edges-aoe">Activity on Edges (AOE)</h3>

<p>顶点表示事件(Event)，有向边表示活动(Activity)，边上权值表示活动持续时间(Duration)。</p>

<p>入度为 0, 为 SRC，源点（开始点）；出度为 0, 为 DEST， 汇点（终点）。</p>

<p>Event 节点表示在 该节点之前所有活动已经完成，在它之后的活动可以开始。每边的起点为开始事件，终点为结束事件，可以看作进度条。</p>

<h4 id="事件之最">事件之最</h4>

<p>事件的 最早开始时间： 最长路径
事件的 最晚开始时间： 最长路径 - 出边的权值（结果取最小）</p>

<h4 id="活动之最">活动之最</h4>

<p>活动的 最早开始时间： 起始事件 的 最早开始时间
活动的 最迟开始时间（最长拖延时间）： 末尾事件的最晚开始时间 - 出边的权值</p>

<h4 id="关键路径">关键路径</h4>

<p><strong>活动</strong> 的 <strong>最早开始时间 == 最迟开始时间</strong> 的路径</p>

<h2 id="最短路径">最短路径</h2>

<p><a href="http://wiki.jikexueyuan.com/project/easy-learn-algorithm/dijkstra.html">http://wiki.jikexueyuan.com/project/easy-learn-algorithm/dijkstra.html</a></p>

<p><a href="http://wiki.jikexueyuan.com/project/easy-learn-algorithm/floyd.html">http://wiki.jikexueyuan.com/project/easy-learn-algorithm/floyd.html</a></p>

<h3 id="floyd-warshall-非负图的多源最短路径">Floyd-Warshall 非负图的多源最短路径</h3>

<p>时间复杂度：O(n^3)</p>

<ol>
<li>数组第 0 维，存储初始数据。 <code>[i][j]</code> 表示从 i 到 j 的 最短路径长度。最短路径经过的点使用链表方式，保存在另一个数组中。</li>
<li>只允许经过一个特定的顶点 k 中转，重复上述过程。 从 i 到 j 只需判断 <code>[i][k] + [k][j] ?? [i][j]</code> 即可。</li>
<li>推广到允许经过所有顶点中转。基本思想就是：最开始只允许经过 1 号顶点进行中转，接下来只允许经过 1 和 2 号顶点进行中转……允许经过 1~n 号所有顶点进行中转，求任意两点之间的最短路程。用一句话概括就是：从 i 号顶点到 j 号顶点只经过前k号点的最短路程。</li>
</ol>

<pre><code class="language-cpp">#include &lt;stdio.h&gt;

int main() {
    int e[10][10], k, i, j, n, m, t1, t2, t3;
    int inf = 99999999; //用inf(infinity的缩写)存储一个我们认为的正无穷值
    //读入n和m，n表示顶点个数，m表示边的条数
    scanf(&quot;%d %d&quot;, &amp;n, &amp;m);

    //初始化
    for (i = 1; i &lt;= n; i++)
        for (j = 1; j &lt;= n; j++)
            if (i == j) e[i][j] = 0;
            else e[i][j] = inf;
    //读入边
    for (i = 1; i &lt;= m; i++) {
        scanf(&quot;%d %d %d&quot;, &amp;t1, &amp;t2, &amp;t3);
        e[t1][t2] = t3;
    }

    //Floyd-Warshall算法核心语句
    for (k = 1; k &lt;= n; k++)
        for (i = 1; i &lt;= n; i++)
            for (j = 1; j &lt;= n; j++)
                if (e[i][j] &gt; e[i][k] + e[k][j])
                    e[i][j] = e[i][k] + e[k][j];

    //输出最终的结果
    for (i = 1; i &lt;= n; i++) {
        for (j = 1; j &lt;= n; j++) {
            printf(&quot;%10d&quot;, e[i][j]);
        }
        printf(&quot;\n&quot;);
    }

    return 0;
}
</code></pre>

<h3 id="dijkstra-非负图的单源最短路径">Dijkstra 非负图的单源最短路径</h3>

<p>时间复杂度：O(n^2)</p>

<blockquote>
<p>Talk is cheap, show me the code.  &mdash;- Linus Torvalds</p>
</blockquote>

<pre><code class="language-python">#!/usr/bin/env python3
# -*- encoding:utf-8 -*-
# http://wiki.jikexueyuan.com/project/easy-learn-algorithm/dijkstra.html
# https://blog.csdn.net/qq_35644234/article/details/60870719
# https://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-greedy-algo-7/

from sys import maxsize as maxint

graph = [
    [0, 2, 5, 1, 0, 0],  # 0A, and no-route should be zero.
    [2, 0, 3, 2, 0, 0],  # 1B
    [5, 3, 0, 3, 1, 5],  # 2C
    [1, 2, 3, 0, 1, 0],  # 3D
    [0, 0, 1, 1, 0, 2],  # 4E
    [0, 0, 5, 0, 2, 0]  # 5F
]

global dist
src = int((input(&quot;Input Source: &quot;)))  # start from source
vtx = 6  # total vertexes

dist = [maxint for i in range(vtx)]  # distance should be max at initial
foundset = []  # if shortest path found, append to here
prev = [-1] * vtx  # initate all front-driven == -1, if still -1, non-accessable


def str2Path(node):
    path = []
    n = node
    while n != src:  # insert a dest-node at front of the list, and insert its front-driven at the first
        path.insert(0, n)
        n = prev[n]
    path.insert(0, src)   # finally, insert src at the list.
    return '-&gt;'.join(list(map(str, path)))  # return built result string


def printsol(dist, vtx, src):
    print(&quot;Source:&quot;, src)
    print(&quot;\t Destination \t Length \t Shortest Path&quot;)
    for i in range(vtx):
        print(&quot; \t\t&quot;, i, &quot;   \t\t  &quot;, dist[i], &quot; \t\t  &quot;, str2Path(i))


def mind(dist, foundset, vtx):
    from sys import maxsize as maxint
    min_idx = maxint
    min_dist = maxint
    for i in range(vtx):
        if i in foundset:
            continue
        if dist[i] &lt; min_dist:  # find the minimal distance in not found vertexes
            min_dist = dist[i]
            min_idx = i
    return min_idx


def dj(dist, foundset, graph, vtx, src):
    dist[src] = 0
    for i in range(vtx):
        if graph[src][i] &gt; 0:
            prev[i] = src  # if have route src-&gt;i, initate all front-driven with source
    for i in range(vtx):
        u = mind(dist, foundset, vtx)  # find the nearest neighbor
        foundset.append(u)  # set found

        for node in range(vtx):  # for all destination
            if not node in foundset:  # if that the shortest way to  destination have not found
                if graph[u][node] &gt; 0:  # and have a way to destination
                    if dist[node] &gt; dist[u] + graph[u][node]:
                        dist[node] = dist[u] + graph[u][node]  # update the shortest way with relay included
                        prev[node] = u  # if have shorter path, then modify its front-driven with relay vertex
    printsol(dist, vtx, src)  # print solution and shortest path length


dj(dist, foundset, graph, vtx, src)
</code></pre>

      </article>
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "kmahyyg" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </main>
    <nav class="end-nav side-padding">
      
      <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
  href="https://www.kmahyyg.xyz/inschool/ynu-datastru-c6/" class="card blog-card" rel="bookmark" >
    
    <div class="card-img-container">
      <p class="card-img-overlay">Next Article</p>
      <picture>
        
        <source srcset="https://alicdn.kmahyyg.xyz/asset_files/aether/cat_school.webp">
        <img src="https://alicdn.kmahyyg.xyz/asset_files/aether/cat_school.webp" class="card-img" >
      </picture>
    </div>
    
  <article class="card-body">
    <h2 class="card-title">数据结构与算法课程 - Chap 6 树和二叉树</h2>
    <p class="card-text">数据结构与算法课程期末复习记录 Chapter 6</p>
    <div class="card-subtext muted-text">
      <p>Posted <time datetime="2019-01-05 15:00">Jan 5, 2019</time></p>
      <p>#school </p>
    </div>
  </article>
</a>
      
      <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
  href="https://www.kmahyyg.xyz/" class="card home-card" style="background-image: url( https://alicdn.kmahyyg.xyz/asset_files/aether/backtohome.webp )" rel="bookmark" >
  Home
</a>
    </nav>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
<script src="https://www.kmahyyg.xyz/js/core.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
  </body>
</html>